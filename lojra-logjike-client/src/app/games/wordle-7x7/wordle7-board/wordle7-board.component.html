<div class="wordle7-board-wrapper">
  <svg class="wordle7-board-svg"
       [attr.width]="svgWidth" [attr.height]="svgHeight"
       [attr.viewBox]="'0 0 ' + svgWidth + ' ' + svgHeight"
       xmlns="http://www.w3.org/2000/svg">

    <!-- Background (matches page cream) -->
    <rect x="0" y="0" [attr.width]="svgWidth" [attr.height]="svgHeight"
          rx="14" ry="14" fill="#FFF8F0"/>

    @for (cell of cells; track cell.row * 100 + cell.col) {
      @if (!isBlocked(cell.row, cell.col)) {
        <!-- Letter cell -->
        <rect [attr.x]="cellX(cell.col)" [attr.y]="cellY(cell.row)"
              [attr.width]="cellSize" [attr.height]="cellSize"
              [attr.rx]="borderRadius" [attr.ry]="borderRadius"
              [class.cell-green]="getCellColor(cell.row, cell.col) === 'green'"
              [class.cell-yellow]="getCellColor(cell.row, cell.col) === 'yellow'"
              [class.cell-grey]="getCellColor(cell.row, cell.col) === 'grey'"
              [class.cell-won]="game.gameWon()"
              [class.cell-locked]="isLocked(cell.row, cell.col)"
              class="letter-cell"
              (click)="onCellClick(cell.row, cell.col)"/>

        <!-- Letter text -->
        <text [attr.x]="cellX(cell.col) + cellSize / 2"
              [attr.y]="cellY(cell.row) + cellSize / 2 + 1"
              [attr.font-size]="fontSize"
              class="letter-text text-colored"
              [class.text-won]="game.gameWon()"
              dominant-baseline="central" text-anchor="middle"
              (click)="onCellClick(cell.row, cell.col)">
          {{ getLetter(cell.row, cell.col) }}
        </text>

        <!-- Selection ring -->
        @if (isSelected(cell.row, cell.col)) {
          <rect [attr.x]="cellX(cell.col) - 1.5" [attr.y]="cellY(cell.row) - 1.5"
                [attr.width]="cellSize + 3" [attr.height]="cellSize + 3"
                [attr.rx]="borderRadius + 1" [attr.ry]="borderRadius + 1"
                fill="none" stroke="#1a1a1a" stroke-width="3"
                class="selection-ring"/>
        }
      }
    }

    <!-- Outer border (drawn on top) -->
    <rect [attr.x]="borderWidth / 2" [attr.y]="borderWidth / 2"
          [attr.width]="svgWidth - borderWidth" [attr.height]="svgHeight - borderWidth"
          [attr.rx]="outerRadius" [attr.ry]="outerRadius"
          fill="none" stroke="#1a1a1a" [attr.stroke-width]="borderWidth"/>
  </svg>
</div>
